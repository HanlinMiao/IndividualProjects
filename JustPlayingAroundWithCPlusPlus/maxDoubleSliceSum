#include <iostream>
#include <vector>
#include <math.h>
using namespace std;

int solution(vector<int> &A) {
    // write your code in C++14 (g++ 6.2.0)
    
    vector <int> sums;
    vector <int> firIndex;
    vector <int> secIndex;
    int size = A.size();
    int sum = 0;
    bool allNega = true;
    for(int i = 0; i< size-1; i++){
      for(int j = i+1; j< size; j++){
        if(A[j]>=0){
          allNega = false;
        }
        int index = j-1;
        while(index>i){
          sum += A[index];
          index--;
        }
        sums.push_back(sum);
        sum = 0;
        firIndex.push_back(i);
        secIndex.push_back(j);
      }
      
    }
    
    int combinedSum = 0;
    for(int i = 0; i<sums.size(); i++){
      for(int j = i+1; j<sums.size(); j++){
        if(secIndex[i] == firIndex[j]&&combinedSum <= sums[i]+sums[j]){
          combinedSum = sums[i]+sums[j];
        }
      }
    }
    
    return combinedSum ;
}


int main() {
  vector<int> A;
  A.push_back(5);
  A.push_back(17);
  A.push_back(0);
  A.push_back(3);
  vector<int> B;
  B.push_back(3);
  B.push_back(2);
  B.push_back(6);
  B.push_back(-1);
  B.push_back(4);
  B.push_back(5);
  B.push_back(-1);
  B.push_back(2);


  std::cout << solution(A);
}

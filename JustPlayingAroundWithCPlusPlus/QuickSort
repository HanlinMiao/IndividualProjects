#include <iostream>
#include <math.h>
#include <stdlib.h>
#include <time.h>

using namespace std;
int partition(int arr[], int low, int high, int size){
    int index = -1;
    int j = high;
    for(int i = 0; i < size; i++){
            if(arr[i]>arr[j]&&i<j){
                int num = arr[i];
                arr[i] = arr[j];
                arr[j] = num;
                j = i;
            }else if(arr[i]<arr[j]&&i>j){
                int num = arr[i];
                int x = j;
                arr[i] = arr[j];
                arr[j] = num;
                j = i;
                i = x;
            }
           
           
    }index = j;
    return index;

}
void quicksort(int arr[], int low, int high, int size){
    int index = partition(arr, low, high, size);
    cout<< " " <<endl;
    cout << low << " "<<high<<endl;
    cout<< " " <<endl;
    if(low-high == 1||abs(high-low)==0){
        cout<< " "<<endl;
        for(int i = 0; i < size; i++){
        cout<<arr[i]<<" ";
        }
    }else if(high-low == 1){
        quicksort(arr, index, high, size);
    }
    else{
        cout<< " " <<endl;
        for(int i = 0; i < size; i++){
        cout<<arr[i]<<" ";
        }cout<< " " <<endl;
       
        quicksort(arr, low, index-1, size);
        quicksort(arr, index+1, high, size);
    }
}


int main()
{
    srand(time(NULL));
    int arr[20];
    for(int i = 0; i< 20; i++){
        arr[i]= rand()%10;
        cout<< arr[i] << " ";
    }
    quicksort(arr, 0, 19, 20);
    return 0;
}
